# Космический Телеграм

### Этот проект представляет собой Telegram-бота, который автоматически публикует фотографии из заданной директории в указанную группу Telegram с заданным интервалом и повторяет их в случайном порядке, если все фото были опубликованы.

## Как установить

### Шаг 1: Получение ключей

1. Токен бота Telegram: Получите его, создав бота в BotFather в Telegram. Сохраните токен, который предоставит BotFather. Добавьте бота в вашу группу и дайте ему права администратора.
2. ID вашей группы:  Откройте группу в приложении Telegram и нажмите на название группы в верхней части экрана. Идентификатор группы будет отображаться в адресной строке вашего браузера.

### Шаг 2: Создание файла конфигурации

Создайте файл .env в корневом каталоге вашего проекта и добавьте в него следующие строки, заменив значения на свои:

```makefile
TELEGRAM_BOT_TOKEN=ваш_токен_бота
TELEGRAM_CHANNEL_ID=ваш_ID_группы
```

### Шаг 3: Установка зависимостей

Python 3 должен быть установлен. Затем используйте pip для установки необходимых зависимостей. В корневом каталоге проекта выполните команду:

```bash
pip install -r requirements.txt
```

### Шаг 4: Как использовать

1. Убедитесь, что вы настроили переменные окружения в .env файле.
2. Проверьте, что директория с фотографиями существует и содержит изображения.
3. Запустите скрипт с помощью Python:
```bash
python foto_publisher.py
```

Бот начнет публиковать фотографии в вашей группе с заданным интервалом.

## Скрипты:

* ```bot_info.py```

Этот скрипт для Telegram-бота отправляет текстовое сообщение и изображение в указанную Telegram-группу. Он использует токен бота и ID группы, которые хранятся в файле конфигурации .env. Скрипт сначала отправляет текстовое сообщение, затем изображение из указанного пути. Если файл изображения не найден, скрипт выводит сообщение об ошибке.

### Пример запуска

1. Убедитесь, что у вас установлены необходимые зависимости.
2. Убедитесь, что в директории есть файлы с изображениями или измените путь к изображению в скрипте.
3. Запустите скрипт с помощью команды:
```
python bot_info.py
```
Если все настроено правильно, скрипт отправит сообщение и изображение в указанную Telegram-группу.


* ```common_functions.py```

Этот скрипт предназначен для загрузки изображений по указанным URL. Он включает функции для получения расширения файла из URL и для загрузки изображения по этому URL. Скрипт использует библиотеку requests для выполнения HTTP-запросов и сохраняет загруженное изображение на диск.

### Пример запуска

1. Убедитесь, что у вас установлены необходимые зависимости.
2. Используйте скрипт, импортируя его функции в своем коде.
3. Запустите свой код, чтобы загрузить изображение и сохранить его на диск.


* ```fetch_earth_epic.py```

Этот скрипт предназначен для получения и загрузки изображений Земли с сайта NASA EPIC (Earth Polychromatic Imaging Camera). Скрипт делает запрос к NASA API для получения ссылок на изображения, затем загружает эти изображения в указанную директорию. Скрипт использует библиотеку requests для выполнения HTTP-запросов и dotenv для работы с переменными окружения.

### Пример запуска

1. Убедитесь, что у вас установлены необходимые зависимости.
2. Убедитесь, что у вас есть файл .env с переменной API_TOKEN_NASA, содержащей ваш ключ API от NASA. 
3. Запустите скрипт: 
```
python fetch_earth_epic.py
```


* ```fetch_nasa_apod.py```

Этот скрипт предназначен для получения и загрузки изображений "Фото дня" (APoD) от NASA. Затем делает запрос к NASA API для получения ссылок на изображения и загружает их в указанную директорию.

### Пример запуска

1. Сохраните скрипт в файл, например, fetch_nasa_apod.py.
2. Убедитесь, что у вас есть файл .env с переменной API_TOKEN_NASA, содержащей ваш ключ API от NASA. 
3. Запустите скрипт: 
```
python fetch_nasa_apod.py
```


* ```fetch_spacex_images.py```

Этот скрипт позволяет загружать фотографии запуска SpaceX по указанному ID запуска. Скрипт использует API SpaceX для получения ссылок на фотографии и сохраняет их в указанную директорию.Функции для получения расширения файлов и скачивания изображений импортируются из модуля common_functions.

### Пример запуска

1. Сохраните скрипт в файл, например, fetch_spacex_images.py.
2. Запустите скрипт с указанием ID запуска SpaceX: 
```
python fetch_spacex_images.py --launch_id <ID_запуска>
```
3. Если ID запуска не указан, будет использован ID по умолчанию (5eb87d46ffd86e000604b388).


* ```photo_publisher.py```

Этот скрипт предназначен для автоматической публикации фотографий из указанной директории в групповой чат Telegram. Скрипт циклически выбирает все фотографии из директории, перемешивает их в случайном порядке и отправляет по одной фотографии в чат с заданной периодичностью. Периодичность публикаций задается в часах. Скрипт использует API Telegram для отправки сообщений.

### Пример запуска

1. Сохраните скрипт в файл, например, photo_publisher.py.
2. Запустите скрипт: 
```
python photo_publisher.py
```
3. Скрипт будет публиковать фотографии из директории photo_of_the_day в групповой чат Telegram каждые 4 часа (или через установленное вами значение задержки в часах).





